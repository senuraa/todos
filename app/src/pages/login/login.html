<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content>
  <div class="login--container">
      <div class="logo">Todos<span>.</span></div>
      <div class="sub-title">
        {{subTitle}}
      </div>
    <div class="step1--login" *ngIf="loginInit">
      <button (click)="onInitButtonClick()" class="login--button">
        <div class="button--container">
          <ion-icon name="keypad"></ion-icon>
          <div>Continue with the phone number</div>
        </div>
      </button>
    </div>
    <div class="step2--login" *ngIf="loginDetEnter">
        <form [formGroup]="loginForm">
          <ion-item>
            <ion-label stacked color="apptxt">First Name</ion-label>
            <ion-input type="text" formControlName="firstname" color="apptxt"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label stacked color="apptxt">Last Name</ion-label>
            <ion-input type="text" formControlName="lastname"  color="apptxt"></ion-input>
          </ion-item>
          <ion-item class="countryCode--item">
              <ion-label floating>Country</ion-label>
              <ion-select formControlName="country_code" interface='popover'>
                <ion-option *ngFor="let country of countries" [value]="country.callingCode[0]" [selected]="country.name.common==='Sri Lanka'">{{ country.name.common }}</ion-option>
              </ion-select>
            </ion-item>
          <ion-item>
            <ion-label stacked color="apptxt">Phone Number (77 XXX XXXX)</ion-label>
            <ion-input type="tel" formControlName="phone_number" color="apptxt"></ion-input>
          </ion-item>
        </form>
      <button class="login--button" (click)='login(loginForm.value)'>Login</button>
    </div>
    
  </div>

</ion-content>